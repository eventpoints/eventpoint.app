{% macro card(event) %}
    <div class="card mb-2">
        {% if event.eventGroup %}
            <a href="{{ path('event_group_show', {id: event.eventGroup.id }) }}">
                <div class="position-absolute top-0 mt-2 ms-2 badge rounded-pill bg-warning">
                    {{ event.eventGroup.title }}
                </div>
            </a>
        {% endif %}
        <div class="card-body rounded-top">
            <div class="fw-bold h5 {{ event.isComplete(regional.regionalSettingValueObject.timezone) ? 'text-decoration-line-through' : '' }}">{{ event.title }}</div>
            <div class="d-flex justify-content-between">
                <div class="me-1">{{ event.startAt|format_datetime(pattern=date_time_pattern,timezone=regional.regionalSettingValueObject.timezone) }}</div>
                <div>{{ event.durationInHour }} {{ 'hours'|trans }}</div>
            </div>
            <div>
                {{ event.address }}
            </div>
        </div>
        {% if event.isInProgress(regional.regionalSettingValueObject.timezone) %}
            <div {{ stimulus_controller('progress', {
                elapsed: event.elapsedTimeInMinutes,
                duration: event.durationInMinutes
            }) }}>
                <div class="progress rounded-0" style="height:5px" data-bs-toggle="tooltip"
                     data-bs-placement="top"
                     data-bs-title="{{ event.timeRemainingAsInterval }} {{ 'remaining'|trans }}">
                    <div {{ stimulus_target('progress', 'progressBar') }}
                            class="progress-bar bg-success" role="progressbar"
                            aria-valuenow="0"
                            aria-valuemin="0" aria-valuemax="100"></div>
                </div>
            </div>
        {% elseif event.isComplete(regional.regionalSettingValueObject.timezone) %}
            <div class="progress rounded-0" style="height:3px" role="progressbar"
                 aria-label="Basic example" aria-valuenow="0" aria-valuemin="0"
                 aria-valuemax="100">
                <div class="progress-bar bg-success" style="width: 100%"></div>
            </div>
        {% else %}
            <div class="progress rounded-0" style="height:3px" role="progressbar"
                 aria-label="Basic example" aria-valuenow="0" aria-valuemin="0"
                 aria-valuemax="100">
                <div class="progress-bar" style="width: 0"></div>
            </div>
        {% endif %}
        <div class="card-body d-flex justify-content-start flex-wrap">
            {% for category in event.categories %}
                <span class="badge rounded-pill text-bg-light fs-6 me-1 mb-1">{{ category.title|trans }}</span>
            {% endfor %}
        </div>
    </div>
{% endmacro %}